<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="A technical guide to servers, ports, reverse proxies, and tunneling protocols.">
  <title>STRAGI â€” Infrastructure Fundamentals</title>
  <style>
    :root {
      --primary: #3b82f6;
      --primary-hover: #2563eb;
      --bg-dark: #0f172a;
      --bg-card: #1e293b;
      --text-main: #f1f5f9;
      --text-muted: #94a3b8;
      --border: #334155;
      --code-bg: #020617;
      --success: #10b981;
      --error: #ef4444;
    }

    * { box-sizing: border-box; }

    html, body {
      height: 100%;
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      color: var(--text-main);
      background-color: var(--bg-dark);
      line-height: 1.6;
      scroll-behavior: smooth;
    }

    /* Layout */
    body { display: flex; flex-direction: column; }

    header {
      background: rgba(15, 23, 42, 0.95);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--border);
      padding: 1rem 2rem;
      position: sticky;
      top: 0;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .brand { font-weight: 700; font-size: 1.25rem; letter-spacing: -0.025em; color: var(--primary); text-decoration: none; }
    .brand span { color: var(--text-main); }

    .container {
      display: grid;
      grid-template-columns: 280px 1fr;
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
      width: 100%;
      flex: 1;
    }

    /* Sidebar Navigation */
    .sidebar { position: sticky; top: 6rem; height: fit-content; }
    .nav-links { display: flex; flex-direction: column; gap: 0.5rem; }
    .nav-links a {
      color: var(--text-muted);
      text-decoration: none;
      padding: 0.5rem 0.75rem;
      border-radius: 6px;
      transition: all 0.2s;
      font-size: 0.95rem;
      border-left: 2px solid transparent;
    }
    .nav-links a:hover, .nav-links a.active { background: var(--bg-card); color: var(--text-main); border-left-color: var(--primary); }

    .quick-stats {
      margin-top: 2rem;
      padding: 1.5rem;
      background: var(--bg-card);
      border-radius: 8px;
      border: 1px solid var(--border);
    }
    .stat-item { display: flex; justify-content: space-between; font-size: 0.85rem; margin-bottom: 0.5rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--border); }
    .stat-item:last-child { border-bottom: none; margin-bottom: 0; }
    .stat-label { color: var(--text-muted); }
    .stat-val { font-family: monospace; color: var(--primary); }

    /* Main Content */
    main { min-width: 0; } /* Prevents grid blowout */

    section { margin-bottom: 4rem; scroll-margin-top: 6rem; }

    h1 { font-size: 2.5rem; margin: 0 0 1rem 0; line-height: 1.2; }
    h2 { font-size: 1.75rem; margin: 0 0 1rem 0; color: var(--text-main); border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; }
    h3 { font-size: 1.25rem; margin: 1.5rem 0 0.75rem 0; color: var(--text-main); }
    p { color: var(--text-muted); margin-bottom: 1.5rem; max-width: 65ch; }

    /* Components */
    .card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
    .info-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      padding: 1.5rem;
      border-radius: 8px;
    }
    .info-card h4 { margin: 0 0 0.5rem 0; font-size: 1rem; }
    .info-card p { font-size: 0.9rem; margin: 0; }

    code { background: rgba(255,255,255,0.1); padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.85em; font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace; }

    pre {
      background: var(--code-bg);
      padding: 1.25rem;
      border-radius: 8px;
      border: 1px solid var(--border);
      overflow-x: auto;
      font-size: 0.9rem;
      margin-bottom: 1.5rem;
    }

    .cmd-list { list-style: none; padding: 0; margin: 0; }
    .cmd-list li { margin-bottom: 0.75rem; font-family: monospace; color: var(--text-muted); }
    .cmd-list li strong { color: var(--primary); margin-right: 0.5rem; }

    /* Quiz Section */
    .quiz-container { background: var(--bg-card); border: 1px solid var(--border); border-radius: 8px; padding: 2rem; margin-top: 2rem; }
    .btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.6rem 1.2rem;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.2s;
      margin-top: 1rem;
    }
    .btn:hover { background: var(--primary-hover); }
    .btn-outline { background: transparent; border: 1px solid var(--border); color: var(--text-muted); margin-right: 0.5rem; width: 100%; text-align: left; margin-top: 0.5rem; }
    .btn-outline:hover { border-color: var(--primary); color: var(--text-main); }

    footer {
      border-top: 1px solid var(--border);
      padding: 2rem;
      text-align: center;
      color: var(--text-muted);
      font-size: 0.875rem;
      margin-top: auto;
    }

    /* Responsive */
    @media (max-width: 900px) {
      .container { grid-template-columns: 1fr; padding: 1rem; }
      .sidebar { display: none; } /* Simplify for mobile */
      header { padding: 1rem; }
      h1 { font-size: 2rem; }
    }
  </style>
</head>
<body>

  <header>
    <a href="#" class="brand">STRAGI <span>Docs</span></a>
    <a href="bluetiger" style="text-decoration: none;">
    <div style="font-size: 0.85rem; color: var(--text-muted);">v1.4.0</div>
    </a>

  </header>

  <div class="container">
    <aside class="sidebar">
      <nav class="nav-links">
        <a href="#intro">Introduction</a>
        <a href="#servers">Servers & Architecture</a>
        <a href="#proxy">Reverse Proxies</a>
        <a href="#tunnels">Tunneling (SSH/Ngrok)</a>
        <a href="#networking">Ports & Networking</a>
        <a href="#dns">DNS Records</a>
        <a href="#quiz">Knowledge Check</a>
      </nav>

      <div class="quick-stats">
        <div style="font-weight: 600; margin-bottom: 1rem; color: var(--text-main);">Standard Ports</div>
        <div class="stat-item"><span class="stat-label">HTTP</span> <span class="stat-val">80</span></div>
        <div class="stat-item"><span class="stat-label">HTTPS</span> <span class="stat-val">443</span></div>
        <div class="stat-item"><span class="stat-label">SSH</span> <span class="stat-val">22</span></div>
        <div class="stat-item"><span class="stat-label">DNS</span> <span class="stat-val">53</span></div>
        <div class="stat-item"><span class="stat-label">MySQL</span> <span class="stat-val">3306</span></div>
      </div>
    </aside>

    <main>
      <section id="intro">
        <h1>Infrastructure Fundamentals</h1>
        <p>This documentation covers the core concepts required to host websites and services. It focuses on the relationship between hardware (servers), accessibility (ports/IPs), and traffic management (proxies/tunnels).</p>

        <div class="card-grid">
          <div class="info-card">
            <h4>Server</h4>
            <p>The machine running the application logic and database.</p>
          </div>
          <div class="info-card">
            <h4>Reverse Proxy</h4>
            <p>The gateway that manages incoming traffic, SSL, and routing.</p>
          </div>
          <div class="info-card">
            <h4>Tunnel</h4>
            <p>A method to expose local environments to the public internet securely.</p>
          </div>
        </div>
      </section>

      <section id="servers">
        <h2>Servers & Hosting Architectures</h2>
        <p>A server is strictly defined as a computer providing data to other computers. In a web context, this usually involves a Linux-based OS running daemon processes (like Nginx, Apache, or Docker containers).</p>

        <h3>Deployment Hierarchy</h3>
        <p>Choosing a hosting environment depends on access requirements and technical overhead.</p>
        <div class="card-grid">
          <div class="info-card">
            <h4>Localhost / Bare Metal</h4>
            <p>Running directly on your hardware. Best for development or homelabs. Requires networking configuration (Port Forwarding) to be reachable.</p>
          </div>
          <div class="info-card">
            <h4>VPS (Virtual Private Server)</h4>
            <p>A slice of a physical server (e.g., EC2, DigitalOcean Droplet). You get a dedicated public IPv4 address and full root access.</p>
          </div>
          <div class="info-card">
            <h4>Managed / PaaS</h4>
            <p>Platforms like Vercel or Heroku. The underlying server and OS are abstracted away; you only deploy code.</p>
          </div>
        </div>
      </section>

      <section id="proxy">
        <h2>Reverse Proxies</h2>
        <p>A reverse proxy sits in front of your application servers. It intercepts requests from clients and forwards them to the appropriate backend service.</p>

        <h3>Key Functions</h3>
        <ul>
            <li><strong>Load Balancing:</strong> Distributing traffic across multiple servers.</li>
            <li><strong>SSL Termination:</strong> Decrypting HTTPS traffic before it reaches the app.</li>
            <li><strong>Security:</strong> Hiding the identity/topology of backend servers.</li>
        </ul>

        <h3>Nginx Configuration Example</h3>
        <p>A standard block configured to forward port 80 traffic to a Node.js application running on port 3000.</p>
<pre><code>server {
    listen 80;
    server_name api.example.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}</code></pre>
      </section>

      <section id="tunnels">
        <h2>Tunneling</h2>
        <p>Tunneling encapsulates a network protocol within another. It is frequently used to bypass NAT (Network Address Translation) or firewalls, allowing a machine without a public IP address to be accessible from the internet.</p>

        <h3>Common Implementation: SSH Reverse Tunnel</h3>
        <p>Forward a port on a remote public server to a local port.</p>
<pre><code># Syntax: ssh -R [remote_port]:[local_host]:[local_port] user@remote
ssh -R 8080:localhost:80 user@vps.example.com</code></pre>
        <p><em>Result: Traffic hitting <code>vps.example.com:8080</code> is routed to your local machine's port 80.</em></p>

        <h3>Cloudflare Tunnel (cloudflared)</h3>
        <p>A daemon-based approach where the server establishes an outbound connection to the Cloudflare edge network. This eliminates the need to open inbound ports on the router firewall.</p>
      </section>

      <section id="networking">
        <h2>Ports, NAT, and Firewalls</h2>
        <p>Network communication relies on IP addresses (location) and Ports (specific service at that location).</p>

        <h3>The "Well-Known" Ports (0-1023)</h3>
        <p>System ports reserved for standard services. On Linux, binding to these ports typically requires root privileges.</p>

        <div class="info-card" style="margin-top: 1rem;">
            <h4>Diagnostic Commands (Linux)</h4>
            <ul class="cmd-list">
                <li><strong>ss -tuln</strong> Display all listening TCP/UDP ports.</li>
                <li><strong>ip addr</strong> Show assigned IP addresses.</li>
                <li><strong>ufw status</strong> Check the status of the Uncomplicated Firewall.</li>
                <li><strong>curl -I localhost</strong> Retrieve HTTP headers from a local service.</li>
            </ul>
        </div>
      </section>

      <section id="dns">
        <h2>DNS Records</h2>
        <p>The Domain Name System maps human-readable names to IP addresses. Incorrect DNS configuration is the most common cause of downtime.</p>
        <table style="width:100%; text-align:left; border-collapse: collapse; color: var(--text-muted); font-size: 0.9rem;">
            <thead>
                <tr style="border-bottom: 1px solid var(--border); color: var(--text-main);">
                    <th style="padding: 8px;">Type</th>
                    <th style="padding: 8px;">Usage</th>
                    <th style="padding: 8px;">Example Value</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="padding: 8px;"><strong>A</strong></td>
                    <td style="padding: 8px;">Maps hostname to IPv4</td>
                    <td style="padding: 8px;"><code>192.0.2.1</code></td>
                </tr>
                <tr>
                    <td style="padding: 8px;"><strong>AAAA</strong></td>
                    <td style="padding: 8px;">Maps hostname to IPv6</td>
                    <td style="padding: 8px;"><code>2001:db8::1</code></td>
                </tr>
                <tr>
                    <td style="padding: 8px;"><strong>CNAME</strong></td>
                    <td style="padding: 8px;">Alias to another domain</td>
                    <td style="padding: 8px;"><code>gh-pages.github.io</code></td>
                </tr>
            </tbody>
        </table>
      </section>

      <section id="quiz">
        <h2>Knowledge Check</h2>
        <div class="quiz-container">
          <div id="quiz-question" style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem;">Loading...</div>
          <div id="quiz-choices" style="display: flex; flex-direction: column; gap: 0.5rem;"></div>
          <div style="margin-top: 1.5rem; display: flex; align-items: center; gap: 1rem;">
            <button class="btn" id="quiz-next">Start Quiz</button>
            <span id="quiz-result" style="font-weight: 600;"></span>
          </div>
        </div>
      </section>

    </main>
  </div>

  <footer>
    <p>&copy; 2024 STRAGI. Educational Reference Material.</p>
  </footer>

  <script>
    const questions = [
      {
        q: 'Which port is the standard default for secure HTTPS traffic?',
        c: ['Port 80', 'Port 22', 'Port 443', 'Port 8080'],
        a: 2
      },
      {
        q: 'What is the primary function of a Reverse Proxy?',
        c: ['To serve static files exclusively', 'To forward client requests to backend servers', 'To assign IP addresses via DHCP', 'To generate database queries'],
        a: 1
      },
      {
        q: 'Which command displays listening TCP ports on a Linux system?',
        c: ['ls -network', 'ss -tuln', 'top', 'ping localhost'],
        a: 1
      },
      {
        q: 'An "A Record" in DNS maps a domain name to:',
        c: ['An IPv4 address', 'An IPv6 address', 'Another domain name', 'An email server'],
        a: 0
      }
    ];

    let idx = 0;
    const qEl = document.getElementById('quiz-question');
    const choicesEl = document.getElementById('quiz-choices');
    const resultEl = document.getElementById('quiz-result');
    const nextBtn = document.getElementById('quiz-next');

    function showQuestion(i) {
      const Q = questions[i];
      qEl.innerText = `${i + 1}. ${Q.q}`;
      choicesEl.innerHTML = '';

      Q.c.forEach((choice, j) => {
        const b = document.createElement('button');
        b.className = 'btn-outline';
        b.textContent = choice;
        b.onclick = () => {
          // Disable all buttons after selection
          const allBtns = choicesEl.querySelectorAll('button');
          allBtns.forEach(btn => btn.disabled = true);

          if (j === Q.a) {
            resultEl.textContent = 'Correct';
            resultEl.style.color = 'var(--success)';
            b.style.borderColor = 'var(--success)';
            b.style.color = 'var(--success)';
          } else {
            resultEl.textContent = 'Incorrect';
            resultEl.style.color = 'var(--error)';
            b.style.borderColor = 'var(--error)';
            b.style.color = 'var(--error)';
          }
        };
        choicesEl.appendChild(b);
      });
    }

    nextBtn.onclick = () => {
      if (nextBtn.textContent === 'Start Quiz') {
        idx = 0;
        nextBtn.textContent = 'Next Question';
        resultEl.textContent = '';
        showQuestion(idx);
      } else {
        idx++;
        if (idx >= questions.length) {
          qEl.innerHTML = "Quiz Complete";
          choicesEl.innerHTML = "";
          resultEl.textContent = "";
          nextBtn.textContent = "Start Quiz";
          return;
        }
        resultEl.textContent = '';
        showQuestion(idx);
      }
    };

    // Initialize text
    qEl.innerText = "Ready to test your knowledge?";
  </script>
</body>
</html>
